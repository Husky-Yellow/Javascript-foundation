<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>vue点击切换显示隐藏</title>
	<script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"></script>
</head>

<body>
	<div id="app">
		<input type="text" v-model="msg" @keydown="kaddFun($event)" />
		<button @click="addFun()">添加</button>
		<br /><br />
		<h3>进行中</h3>
		<ul>
			<li v-for="(item,key) in list" v-if="!item.checked">
				<input type="checkbox" v-model="item.checked" @change="saveList()" />
				{{item.title}}
				<button @click="moveFun(key)">移除</button>
			</li>
		</ul>
		<h3>已完成</h3>
		<ul>
			<li v-for="(item,key) in list" v-if="item.checked">
				<input type="checkbox" v-model="item.checked" />
				{{item.title}}
				<button @click="moveFun(key)">移除</button>
			</li>
		</ul>
	</div>
	<script type="text/javascript">
		var app = new Vue({
			el: '#app',
			data: {
				msg: '',
				list: []
			},
			methods: {
				addFun() {
					this.list.push({
							title: this.msg,
							checked: false
						}),
						this.msg = '';
					//存储数据
					localStorage.setItem('list', JSON.stringify(this.list))
				},
				kaddFun(e) {
					if (e.keyCode == 13) {
						this.addFun();
					}
				},
				moveFun(key) {
					confirm("是否移除" + this.list[key].title + "?");
					this.list.splice(key, 1);
					localStorage.setItem('list', JSON.stringify(this.list))
				},
				saveList() {
					localStorage.setItem('list', JSON.stringify(this.list))
				}
			},
			//生命周期函数   vue页面刷新就会触发的方法
			mounted() {
				//json字符串转成json对象
				var list = JSON.parse(localStorage.getItem('list'))
				//判断list是否存在
				if (list) {
					//存在则将获取到的list保存刷新后的list中
					this.list = list;
				}
			}
		})
	</script>
</body>

</html>